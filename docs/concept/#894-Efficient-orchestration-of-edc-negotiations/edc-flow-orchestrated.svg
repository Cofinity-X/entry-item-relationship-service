<!--
  - Copyright (c) 2025 Contributors to the Eclipse Foundation
  -
  - See the NOTICE file(s) distributed with this work for additional
  - information regarding copyright ownership.
  -
  - This program and the accompanying materials are made available under the
  - terms of the Apache License, Version 2.0 which is available at
  - https://www.apache.org/licenses/LICENSE-2.0.
  -
  - Unless required by applicable law or agreed to in writing, software
  - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  - License for the specific language governing permissions and limitations
  - under the License.
  -
  - SPDX-License-Identifier: Apache-2.0
-->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="678px" preserveAspectRatio="none" style="width:1128px;height:678px;background:#FFFFFF;" version="1.1" viewBox="0 0 1128 678" width="1128px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="264.5898" style="stroke:#000000;stroke-width:1.5;" width="963.3877" x="158" y="283.9492"/><rect fill="none" height="183.377" style="stroke:#000000;stroke-width:1.5;" width="943.3877" x="168" y="358.1621"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="73" x2="73" y1="38.6211" y2="641.1211"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="414.0605" x2="414.0605" y1="38.6211" y2="641.1211"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="632.873" x2="632.873" y1="38.6211" y2="641.1211"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="837.458" x2="837.458" y1="38.6211" y2="641.1211"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1008.9678" x2="1008.9678" y1="38.6211" y2="641.1211"/><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.958" x="5" y="5"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="122.958" x="12" y="27.1074">EdcSubmodelClient</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.958" x="5" y="640.1211"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="122.958" x="12" y="662.2285">EdcSubmodelClient</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.627" x="333.0605" y="5"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="148.627" x="340.0605" y="27.1074">NegotiationOrchestrator</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.627" x="333.0605" y="640.1211"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="148.627" x="340.0605" y="662.2285">NegotiationOrchestrator</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.585" x="507.873" y="5"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="236.585" x="514.873" y="27.1074">EndpointDataReferenceCacheService</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.585" x="507.873" y="640.1211"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="236.585" x="514.873" y="662.2285">EndpointDataReferenceCacheService</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.5098" x="768.458" y="5"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="124.5098" x="775.458" y="27.1074">EDCCatalogFacade</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.5098" x="768.458" y="640.1211"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="124.5098" x="775.458" y="662.2285">EDCCatalogFacade</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184.4199" x="916.9678" y="5"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="170.4199" x="923.9678" y="27.1074">ContractNegotiationService</text><rect fill="#E3E3E3" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184.4199" x="916.9678" y="640.1211"/><text fill="#000000" font-family="Architects daughter" font-size="14" lengthAdjust="spacing" textLength="170.4199" x="923.9678" y="662.2285">ContractNegotiationService</text><polygon fill="#181818" points="402.374,67.9121,412.374,71.9121,402.374,75.9121,406.374,71.9121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="73.479" x2="408.374" y1="71.9121" y2="71.9121"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="80.479" y="66.6494">[001]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="164.0171" x="114.8271" y="66.6494">get ContractOffer for assetId</text><polygon fill="#181818" points="825.7129,119.4941,835.7129,123.4941,825.7129,127.4941,829.7129,123.4941" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="414.374" x2="831.7129" y1="123.4941" y2="123.4941"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="421.374" y="118.2314">[002]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="164.0171" x="455.7222" y="118.2314">get ContractOffer for assetId</text><path d="M178,84.9121 L178,145.9121 L408,145.9121 L408,94.9121 L398,84.9121 L178,84.9121 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M398,84.9121 L398,94.9121 L408,94.9121 L398,84.9121 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="140.918" x="184" y="103.9404">parallel catalog requests</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="177.0425" x="184" y="121.2314">can be limited by facilitating an</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="209.5298" x="184" y="138.5225">ExecutorService with limited threads</text><polygon fill="#181818" points="425.374,171.0762,415.374,175.0762,425.374,179.0762,421.374,175.0762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="419.374" x2="836.7129" y1="175.0762" y2="175.0762"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="431.374" y="169.8135">[003]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="78.0254" x="465.7222" y="169.8135">ContractOffer</text><polygon fill="#181818" points="84.479,202.3672,74.479,206.3672,84.479,210.3672,80.479,206.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78.479" x2="413.374" y1="206.3672" y2="206.3672"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="90.479" y="201.1045">[004]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="78.0254" x="124.8271" y="201.1045">ContractOffer</text><polygon fill="#181818" points="402.374,233.6582,412.374,237.6582,402.374,241.6582,406.374,237.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="73.479" x2="408.374" y1="237.6582" y2="237.6582"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="80.479" y="232.3955">[005]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="282.5469" x="114.8271" y="232.3955">negotiate EndpointDataReference(ContractOffer)</text><polygon fill="#181818" points="621.1655,264.9492,631.1655,268.9492,621.1655,272.9492,625.1655,268.9492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="414.374" x2="627.1655" y1="268.9492" y2="268.9492"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="421.374" y="263.6865">[006]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="160.4434" x="455.7222" y="263.6865">get EndpointDataReference</text><path d="M158,283.9492 L218.1709,283.9492 L218.1709,293.2402 L208.1709,303.2402 L158,303.2402 L158,283.9492 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="264.5898" style="stroke:#000000;stroke-width:1.5;" width="963.3877" x="158" y="283.9492"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="173" y="298.9775">alt</text><text fill="#000000" font-family="Architects daughter" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203.5645" x="233.1709" y="297.8193">[cache contains valid entry for assetId]</text><polygon fill="#181818" points="425.374,322.5313,415.374,326.5313,425.374,330.5313,421.374,326.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="419.374" x2="632.1655" y1="326.5313" y2="326.5313"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="431.374" y="321.2686">[007]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="138.7598" x="465.7222" y="321.2686">EndpointDataReference</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="158" x2="1121.3877" y1="335.5313" y2="335.5313"/><text fill="#000000" font-family="Architects daughter" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184.6045" x="163" y="347.4014">[no valid entry for assetId in cache]</text><path d="M168,358.1621 L228.1709,358.1621 L228.1709,367.4531 L218.1709,377.4531 L168,377.4531 L168,358.1621 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="183.377" style="stroke:#000000;stroke-width:1.5;" width="943.3877" x="168" y="358.1621"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="183" y="373.1904">alt</text><text fill="#000000" font-family="Architects daughter" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="168.0454" x="243.1709" y="372.0322">[ongoing negotiation for asseId]</text><line style="stroke:#181818;stroke-width:1.0;" x1="414.374" x2="456.374" y1="400.7441" y2="400.7441"/><line style="stroke:#181818;stroke-width:1.0;" x1="456.374" x2="456.374" y1="400.7441" y2="413.7441"/><line style="stroke:#181818;stroke-width:1.0;" x1="415.374" x2="456.374" y1="413.7441" y2="413.7441"/><polygon fill="#181818" points="425.374,409.7441,415.374,413.7441,425.374,417.7441,421.374,413.7441" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="421.374" y="395.4814">[008]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="138.7598" x="455.7222" y="395.4814">EndpointDataReference</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="168" x2="1111.3877" y1="422.7441" y2="422.7441"/><text fill="#000000" font-family="Architects daughter" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184.54" x="173" y="434.6143">[no ongoing negotiation for asseId]</text><polygon fill="#181818" points="997.1777,477.957,1007.1777,481.957,997.1777,485.957,1001.1777,481.957" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="414.374" x2="1003.1777" y1="481.957" y2="481.957"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="421.374" y="476.6943">[009]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="142.3589" x="455.7222" y="476.6943">start contract negotiation</text><path d="M178,443.375 L178,504.375 L408,504.375 L408,453.375 L398,443.375 L178,443.375 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M398,443.375 L398,453.375 L408,453.375 L398,443.375 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="115.6353" x="184" y="462.4033">parallel negotiations</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="177.0425" x="184" y="479.6943">can be limited by facilitating an</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="209.5298" x="184" y="496.9854">ExecutorService with limited threads</text><polygon fill="#181818" points="425.374,529.5391,415.374,533.5391,425.374,537.5391,421.374,533.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="419.374" x2="1008.1777" y1="533.5391" y2="533.5391"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="431.374" y="528.2764">[010]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="138.7598" x="465.7222" y="528.2764">EndpointDataReference</text><polygon fill="#181818" points="84.479,574.8301,74.479,578.8301,84.479,582.8301,80.479,578.8301" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78.479" x2="413.374" y1="578.8301" y2="578.8301"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="90.479" y="573.5674">[011]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="191.5151" x="124.8271" y="573.5674">Future&lt;EndpointDataReference&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="73.479" x2="115.479" y1="610.1211" y2="610.1211"/><line style="stroke:#181818;stroke-width:1.0;" x1="115.479" x2="115.479" y1="610.1211" y2="623.1211"/><line style="stroke:#181818;stroke-width:1.0;" x1="74.479" x2="115.479" y1="623.1211" y2="623.1211"/><polygon fill="#181818" points="84.479,619.1211,74.479,623.1211,84.479,627.1211,80.479,623.1211" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Architects daughter" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.3481" x="80.479" y="604.8584">[012]</text><text fill="#000000" font-family="Architects daughter" font-size="13" lengthAdjust="spacing" textLength="164.0171" x="114.8271" y="604.8584">wait for completion of Future</text><!--SRC=[bLAnZjim3Dtr5KIcwn0WSn04A9m4w980b_7GWP5eMwWifH9zwVrzASTsxMlQNhKOCDyZ7nzV-cRz5ICsq0GVT1r3Gy2n9PN6IghHX9lr5PJeqhHYgCJMyI5uFg8G5v-ZhYsJvWG6swfcYWkb5BOSVDjSAC9YSzc-h5Qhh_9Vch3LzegUOR4t-jnUcc385SwIvmLWWlsvcCEEL0Mso3RuamoZn14vn0vyFBrhwSqrMCyxP7ocaY9vJGKAwqpnrMgwZzWzT__USNT58JGNgWDgD3sqECnHXMmUKVD4rRHrSJmh9Il0SYlYrb0Hmq0vbI88oX05c8Y_67KyPPpC-1VG1oPmLB82UVaKpf43VTSBaRwtualggXezN0Hj6xcBWSkR755RPrd4oaNHTwZz3z9oezYBXvlbUkHm7GbDKkGDvD5Pw6Qvl2kTgUnspQMyxE-LtWNVcqNmy41FC-8dDVZId-bkpaEcGiUoi810Im-qFi4hEcj0uXJVPXxchOSzniwFkvA4NXR_Kokm_Zwqwvab15-5RAx_bOgHq8_kn_UEF9wRCSFi_sefiLj3OWbgvqFsSaeSqVCS3M_CquIIPeYFPMfu7yhM01upDjaetwXRwIys2KsSLyDt5iH3ossapKFsTWYcVDPmGykThJeqLqUTow7i6wYV]--></g></svg>